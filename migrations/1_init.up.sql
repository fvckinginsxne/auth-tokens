CREATE TABLE IF NOT EXISTS users (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    email TEXT UNIQUE NOT NULL,
    pass_hash BYTEA NOT NULL
);

CREATE TABLE IF NOT EXISTS tokens (
    id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    user_id UUID REFERENCES users(id) ON DELETE CASCADE,
    token_hash TEXT NOT NULL,
    token_pair_id UUID NOT NULL,
    ip_address TEXT NOT NULL,
    expires_at TIMESTAMP WITH TIME ZONE NOT NULL
);